import{d as f,bu as _,by as C,r as i,ar as g,aR as v,_ as y,c as p,a as V,q as o,aN as c,aC as B,F as k,aL as h,o as d,bx as $,aM as w,bz as x,aF as b,aQ as F,aD as S,b0 as T}from"./index-C4vLH2e8.js";const L=f({name:"ChecklistsView",components:{PageHeader:_,ChecklistForm:C},setup(){const e=i([]),r=i(null),l=i(!0),u=async()=>{const n=v(),s=await fetch("https://api.fordsdevelopment.co.uk/daily_discipline/checklists",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.accessToken}`}});if(s.ok){l.value=!1;const a=await s.json();e.value=a,console.log(e.value)}else{l.value=!1;const a=await s.json();r.value=a.error,r.value==="Access token has expired or is invalid."&&(n.$reset(),n.clearState(),localStorage.clear(),sessionStorage.clear())}};return g(()=>{u()}),{checklists:e}}}),N={class:"page-header"};function j(e,r,l,u,n,m){const s=h("PageHeader"),a=h("ChecklistForm");return d(),p(k,null,[V("div",N,[o(s,{title:"Checklists"})]),o(B,null,{default:c(()=>[(d(!0),p(k,null,$(e.checklists,t=>(d(),w(S,{key:t.id,to:`/checklists/${t.id}`},{default:c(()=>[o(x,null,{default:c(()=>[b(F(t.name),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1}),o(a,null,{trigger:c(({openDialog:t})=>[o(T,{density:"comfortable",variant:"tonal",text:"New Checklist",class:"mr-2",onClick:t},null,8,["onClick"])]),_:1})],64)}const H=y(L,[["render",j]]);export{H as default};
