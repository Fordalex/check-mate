import{d as m,bu as _,by as g,r as i,b as C,u as v,_ as b,c as p,a as y,v as o,bg as c,aD as V,F as k,bf as f,o as d,bx as B,aM as $,bz as w,aG as x,bi as S,aE as T,aX as F}from"./index-B_4h76eU.js";const L=m({name:"ChecklistsView",components:{PageHeader:_,ChecklistForm:g},setup(){const e=i([]),r=i(null),l=i(!0),u=async()=>{const n=v(),s=await fetch("https://api.fordsdevelopment.co.uk/daily_discipline/checklists",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.accessToken}`}});if(s.ok){l.value=!1;const t=await s.json();e.value=t,console.log(e.value)}else{l.value=!1;const t=await s.json();r.value=t.error,r.value==="Access token has expired or is invalid."&&(n.$reset(),n.clearState(),localStorage.clear(),sessionStorage.clear())}};return C(()=>{u()}),{checklists:e}}}),N={class:"page-header"};function j(e,r,l,u,n,h){const s=f("PageHeader"),t=f("ChecklistForm");return d(),p(k,null,[y("div",N,[o(s,{title:"Checklists"})]),o(V,null,{default:c(()=>[(d(!0),p(k,null,B(e.checklists,a=>(d(),$(T,{key:a.id,to:`/checklists/${a.id}`},{default:c(()=>[o(w,null,{default:c(()=>[x(S(a.name),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1}),o(t,null,{trigger:c(({openDialog:a})=>[o(F,{density:"comfortable",variant:"tonal",text:"New Checklist",class:"mr-2",onClick:a},null,8,["onClick"])]),_:1})],64)}const H=b(L,[["render",j]]);export{H as default};
