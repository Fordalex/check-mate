import{d as f,aI as _,aN as C,r as i,j as g,u as v,_ as V,c as p,a as B,l as o,as as c,aO as y,a1 as k,aq as h,o as d,aB as $,ar as w,aP as x,au as S,av as T,aQ as N,V as j}from"./index-DJN8nM14.js";const F=f({name:"ChecklistsView",components:{PageHeader:_,ChecklistForm:C},setup(){const e=i([]),r=i(null),l=i(!0),u=async()=>{const n=v(),s=await fetch("https://api.fordsdevelopment.co.uk/daily_discipline/checklists",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.accessToken}`}});if(s.ok){l.value=!1;const a=await s.json();e.value=a,console.log(e.value)}else{l.value=!1;const a=await s.json();r.value=a.error,r.value==="Access token has expired or is invalid."&&(n.$reset(),n.clearState(),localStorage.clear(),sessionStorage.clear())}};return g(()=>{u()}),{checklists:e}}}),L={class:"page-header"};function P(e,r,l,u,n,m){const s=h("PageHeader"),a=h("ChecklistForm");return d(),p(k,null,[B("div",L,[o(s,{title:"Checklists"})]),o(y,null,{default:c(()=>[(d(!0),p(k,null,$(e.checklists,t=>(d(),w(N,{key:t.id,to:`/checklists/${t.id}`},{default:c(()=>[o(x,null,{default:c(()=>[S(T(t.name),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1}),o(a,null,{trigger:c(({openDialog:t})=>[o(j,{density:"comfortable",variant:"tonal",text:"New Checklist",class:"mr-2",onClick:t},null,8,["onClick"])]),_:1})],64)}const H=V(F,[["render",P]]);export{H as default};
