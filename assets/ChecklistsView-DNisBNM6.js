import{d as f,bu as _,by as C,r as i,b as g,u as v,_ as y,c as p,a as V,v as o,aO as c,aD as B,F as k,aN as h,o as d,bx as $,aM as b,bz as w,aG as x,aR as S,aE as T,b0 as F}from"./index-wa3JWfg-.js";const N=f({name:"ChecklistsView",components:{PageHeader:_,ChecklistForm:C},setup(){const e=i([]),r=i(null),l=i(!0),u=async()=>{const n=v(),s=await fetch("https://api.fordsdevelopment.co.uk/daily_discipline/checklists",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.accessToken}`}});if(s.ok){l.value=!1;const a=await s.json();e.value=a,console.log(e.value)}else{l.value=!1;const a=await s.json();r.value=a.error,r.value==="Access token has expired or is invalid."&&(n.$reset(),n.clearState(),localStorage.clear(),sessionStorage.clear())}};return g(()=>{u()}),{checklists:e}}}),L={class:"page-header"};function j(e,r,l,u,n,m){const s=h("PageHeader"),a=h("ChecklistForm");return d(),p(k,null,[V("div",L,[o(s,{title:"Checklists"})]),o(B,null,{default:c(()=>[(d(!0),p(k,null,$(e.checklists,t=>(d(),b(T,{key:t.id,to:`/checklists/${t.id}`},{default:c(()=>[o(w,null,{default:c(()=>[x(S(t.name),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1}),o(a,null,{trigger:c(({openDialog:t})=>[o(F,{density:"comfortable",variant:"tonal",text:"New Checklist",class:"mr-2",onClick:t},null,8,["onClick"])]),_:1})],64)}const H=y(N,[["render",j]]);export{H as default};
